<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üöÄ Betmomo Pr√©dicteur Pro - Version Premium</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="betmomo-predictor.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    
    <!-- Script Firebase -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
        import { 
            getAuth, 
            onAuthStateChanged,
            signOut
        } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-auth.js";
        import { 
            getFirestore,
            collection,
            query,
            getDocs,
            where
        } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js";
        
        // Configuration Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyDhySV3lXOlCQ8fMIYRlzs0YpMg6MZ_Ixo",
            authDomain: "gamehub-e45ea.firebaseapp.com",
            projectId: "gamehub-e45ea",
            storageBucket: "gamehub-e45ea.firebasestorage.app",
            messagingSenderId: "609288909968",
            appId: "1:609288909968:web:45f3716ce6b2d4970d1415"
        };

        // Initialiser Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        
        // Variables globales pour la licence
        window.userLicense = null;
        window.isLicenseValid = false;
        window.licenseCheckInterval = null;
        window.userData = null;
        
        // V√©rifier l'√©tat d'authentification et la licence
        onAuthStateChanged(auth, async (user) => {
            if (user) {
                // V√©rifier si l'email est v√©rifi√©
                if (!user.emailVerified) {
                    showLicenseMessage("Email non v√©rifi√©", "Veuillez v√©rifier votre email pour acc√©der au pr√©dicteur", true);
                    setTimeout(() => {
                        window.location.href = 'login.html';
                    }, 5000);
                    return;
                }
                
                console.log("Utilisateur connect√©:", user.uid);
                window.userData = user;
                
                // V√©rifier la licence
                await checkUserLicense(user.uid);
                
                // D√©marrer la v√©rification p√©riodique de la licence
                startLicenseCheck();
                
                // Afficher l'info utilisateur
                updateUserInfo(user);
            } else {
                // Rediriger vers la page de connexion si non connect√©
                showLicenseMessage("Non connect√©", "Vous devez √™tre connect√© pour utiliser le pr√©dicteur", true);
                setTimeout(() => {
                    window.location.href = 'login.html';
                }, 3000);
            }
        });

        // V√©rifier la licence de l'utilisateur pour le jeu betmomo
        async function checkUserLicense(userId) {
            console.log("V√©rification de la licence pour l'utilisateur:", userId);
            
            try {
                const userPurchasesRef = collection(db, 'users', userId, 'purchases');
                
                // Chercher toutes les licences pour 'betmomo'
                const q = query(
                    userPurchasesRef,
                    where('gameId', '==', 'betmomo')
                );
                
                console.log("Ex√©cution de la requ√™te Firestore...");
                const querySnapshot = await getDocs(q);
                console.log("R√©sultats trouv√©s:", querySnapshot.size);
                
                if (querySnapshot.empty) {
                    console.log("Aucune licence trouv√©e pour 'betmomo'");
                    showLicenseMessage("Licence non trouv√©e", "Vous n'avez pas achet√© le pr√©dicteur Betmomo", true);
                    window.isLicenseValid = false;
                    disableBotFeatures();
                    return;
                }
                
                let activeLicense = null;
                let latestLicense = null;
                let now = new Date();
                
                // Parcourir tous les r√©sultats
                querySnapshot.forEach((doc) => {
                    const data = doc.data();
                    console.log("Document trouv√©:", data);
                    
                    const expirationDate = new Date(data.expirationDate);
                    const purchaseDate = new Date(data.purchaseDate);
                    
                    console.log("Statut:", data.status);
                    console.log("Date d'expiration:", expirationDate);
                    console.log("Date d'achat:", purchaseDate);
                    
                    // V√©rifier si la licence est active ET non expir√©e
                    if (data.status === 'active' && expirationDate > now) {
                        if (!activeLicense || purchaseDate > new Date(activeLicense.purchaseDate)) {
                            activeLicense = {
                                id: doc.id,
                                ...data,
                                expirationDate: expirationDate,
                                purchaseDate: purchaseDate,
                                remainingTime: expirationDate - now
                            };
                        }
                    }
                    
                    // Garder la licence la plus r√©cente m√™me si expir√©e (pour debug)
                    if (!latestLicense || purchaseDate > new Date(latestLicense.purchaseDate)) {
                        latestLicense = {
                            id: doc.id,
                            ...data,
                            expirationDate: expirationDate,
                            purchaseDate: purchaseDate
                        };
                    }
                });
                
                if (activeLicense) {
                    // Licence active trouv√©e
                    window.userLicense = activeLicense;
                    window.isLicenseValid = true;
                    
                    const remainingHours = Math.floor(window.userLicense.remainingTime / (1000 * 60 * 60));
                    const remainingMinutes = Math.floor((window.userLicense.remainingTime % (1000 * 60 * 60)) / (1000 * 60));
                    
                    console.log("Licence active trouv√©e:", window.userLicense);
                    console.log("Temps restant:", remainingHours + "h " + remainingMinutes + "m");
                    
                    // Activer les fonctionnalit√©s du bot
                    enableBotFeatures();
                    
                } else if (latestLicense) {
                    // Afficher les d√©tails de la licence trouv√©e (pour debug)
                    console.log("Licence trouv√©e mais inactive ou expir√©e:", latestLicense);
                    
                    const now = new Date();
                    const expirationDate = new Date(latestLicense.expirationDate);
                    const isExpired = expirationDate < now;
                    const isInactive = latestLicense.status !== 'active';
                    
                    let message = "Licence ";
                    if (isInactive) message += "inactive";
                    if (isExpired) message += isInactive ? " et expir√©e" : "expir√©e";
                    
                    showLicenseMessage(
                        message,
                        `Date d'expiration: ${expirationDate.toLocaleDateString()} ${expirationDate.toLocaleTimeString()}`,
                        true
                    );
                    
                    window.isLicenseValid = false;
                    disableBotFeatures();
                } else {
                    console.log("Aucune licence valide trouv√©e");
                    showLicenseMessage("Licence non valide", "Votre licence n'est pas active ou a expir√©", true);
                    window.isLicenseValid = false;
                    disableBotFeatures();
                }
                
            } catch (error) {
                console.error('Erreur lors de la v√©rification de la licence:', error);
                console.error('D√©tails de l\'erreur:', error.message);
                
                // Afficher un message d'erreur d√©taill√©
                showLicenseMessage(
                    "Erreur technique", 
                    "Impossible de v√©rifier votre licence. Veuillez r√©essayer.", 
                    true
                );
                window.isLicenseValid = false;
                disableBotFeatures();
            }
        }

        // D√©marrer la v√©rification p√©riodique de la licence
        function startLicenseCheck() {
            if (window.licenseCheckInterval) {
                clearInterval(window.licenseCheckInterval);
            }
            
            // V√©rifier toutes les 30 secondes
            window.licenseCheckInterval = setInterval(async () => {
                const user = auth.currentUser;
                if (user && window.isLicenseValid) {
                    await checkUserLicense(user.uid);
                }
            }, 30000);
        }

        // Afficher un message de licence (uniquement pour les erreurs)
        function showLicenseMessage(title, message, isError = false) {
            const existingMessage = document.getElementById('licenseMessage');
            if (existingMessage) {
                existingMessage.remove();
            }
            
            // Afficher uniquement les messages d'erreur
            if (!isError) {
                return;
            }
            
            const messageDiv = document.createElement('div');
            messageDiv.id = 'licenseMessage';
            messageDiv.style.cssText = `
                position: fixed;
                top: 20px;
                left: 50%;
                transform: translateX(-50%);
                background: rgba(30, 58, 138, 0.95);
                color: white;
                padding: 15px 30px;
                border-radius: 8px;
                z-index: 10000;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                animation: slideIn 0.3s ease;
                text-align: center;
                max-width: 90%;
                backdrop-filter: blur(10px);
                border: 1px solid rgba(30, 58, 138, 0.3);
            `;
            
            messageDiv.innerHTML = `
                <strong style="font-size: 16px;">${title}</strong><br>
                <span style="font-size: 14px;">${message}</span>
                <br><button id="goToStore" style="margin-top: 10px; padding: 8px 16px; background: #f59e0b; color: #1e293b; border: none; border-radius: 4px; cursor: pointer; font-weight: bold;">Acheter une licence</button>
            `;
            
            document.body.appendChild(messageDiv);
            
            const goToStoreBtn = document.getElementById('goToStore');
            if (goToStoreBtn) {
                goToStoreBtn.addEventListener('click', () => {
                    window.location.href = 'accueil.html';
                });
            }
        }

        // Masquer le message de licence
        function hideLicenseMessage() {
            const messageDiv = document.getElementById('licenseMessage');
            if (messageDiv) {
                messageDiv.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => {
                    if (messageDiv.parentNode) {
                        messageDiv.parentNode.removeChild(messageDiv);
                    }
                }, 300);
            }
        }

        // D√©sactiver les fonctionnalit√©s du bot
        function disableBotFeatures() {
            console.log("D√©sactivation des fonctionnalit√©s du bot");
            
            // D√©sactiver les boutons
            const analyzeButton = document.querySelector('button[onclick="predictManualOdds()"]');
            const optionsButton = document.querySelector('button[onclick="openAdvancedSettings()"]');
            const analyzeHistoryButton = document.querySelector('button[onclick="analyzeHistoricalData()"]');
            
            if (analyzeButton) {
                analyzeButton.disabled = true;
                analyzeButton.style.opacity = '0.5';
                analyzeButton.style.cursor = 'not-allowed';
            }
            
            if (optionsButton) {
                optionsButton.disabled = true;
                optionsButton.style.opacity = '0.5';
                optionsButton.style.cursor = 'not-allowed';
            }
            
            if (analyzeHistoryButton) {
                analyzeHistoryButton.disabled = true;
                analyzeHistoryButton.style.opacity = '0.5';
                analyzeHistoryButton.style.cursor = 'not-allowed';
            }
            
            // Afficher un indicateur de licence expir√©e
            const licenseIndicator = document.getElementById('licenseIndicator');
            if (licenseIndicator) {
                licenseIndicator.innerHTML = `
                    <span class="bg-red-500 rounded-full w-2 h-2 inline-block mr-1"></span>
                    <span class="text-white font-medium">Licence expir√©e</span>
                `;
            }
            
            // Afficher un message dans la zone de r√©sultats
            const resultElement = document.getElementById('result');
            if (resultElement) {
                resultElement.innerHTML = `
                    <div class="text-center p-4">
                        <i class="fas fa-key text-3xl text-blue-400 mb-3"></i>
                        <p class="text-gray-600">Le pr√©dicteur est verrouill√©</p>
                        <p class="text-sm text-gray-500 mt-1">Activez votre licence pour d√©bloquer toutes les fonctionnalit√©s</p>
                    </div>
                `;
            }
            
            // D√©sactiver les champs de saisie
            const oddsInput = document.getElementById('manualOddsInput');
            const betInput = document.getElementById('manualBetAmount');
            
            if (oddsInput) {
                oddsInput.disabled = true;
                oddsInput.placeholder = "Licence requise";
            }
            
            if (betInput) {
                betInput.disabled = true;
                betInput.placeholder = "Licence requise";
            }
        }

        // Activer les fonctionnalit√©s du bot
        function enableBotFeatures() {
            console.log("Activation des fonctionnalit√©s du bot");
            
            // Activer les boutons
            const analyzeButton = document.querySelector('button[onclick="predictManualOdds()"]');
            const optionsButton = document.querySelector('button[onclick="openAdvancedSettings()"]');
            const analyzeHistoryButton = document.querySelector('button[onclick="analyzeHistoricalData()"]');
            
            if (analyzeButton) {
                analyzeButton.disabled = false;
                analyzeButton.style.opacity = '1';
                analyzeButton.style.cursor = 'pointer';
            }
            
            if (optionsButton) {
                optionsButton.disabled = false;
                optionsButton.style.opacity = '1';
                optionsButton.style.cursor = 'pointer';
            }
            
            if (analyzeHistoryButton) {
                analyzeHistoryButton.disabled = false;
                analyzeHistoryButton.style.opacity = '1';
                analyzeHistoryButton.style.cursor = 'pointer';
            }
            
            // Mettre √† jour l'indicateur de licence
            const licenseIndicator = document.getElementById('licenseIndicator');
            if (licenseIndicator) {
                const remainingHours = Math.floor(window.userLicense.remainingTime / (1000 * 60 * 60));
                const remainingMinutes = Math.floor((window.userLicense.remainingTime % (1000 * 60 * 60)) / (1000 * 60));
                
                licenseIndicator.innerHTML = `
                    <span class="bg-yellow-500 rounded-full w-2 h-2 inline-block mr-1"></span>
                    <span class="text-white font-medium">Licence: ${remainingHours}h ${remainingMinutes}m</span>
                `;
            }
            
            // Vider la zone de r√©sultats
            const resultElement = document.getElementById('result');
            if (resultElement) {
                resultElement.innerHTML = '';
            }
            
            // Activer les champs de saisie
            const oddsInput = document.getElementById('manualOddsInput');
            const betInput = document.getElementById('manualBetAmount');
            
            if (oddsInput) {
                oddsInput.disabled = false;
                oddsInput.placeholder = "Ex: 1.50, 1.75, 2.00, 1.90, 1.65";
            }
            
            if (betInput) {
                betInput.disabled = false;
                betInput.placeholder = "Montant √† miser";
            }
            
            // Initialiser l'interface
            if (window.initPredictorInterface) {
                window.initPredictorInterface();
            }
        }

        // Mettre √† jour les informations utilisateur
        function updateUserInfo(user) {
            const userInfoElement = document.getElementById('userInfo');
            if (userInfoElement) {
                userInfoElement.innerHTML = `
                    <div class="flex items-center">
                        <div class="w-8 h-8 rounded-full bg-gradient-to-r from-blue-800 to-blue-900 flex items-center justify-center text-white font-bold mr-2 border border-yellow-500">
                            ${user.email ? user.email.charAt(0).toUpperCase() : 'U'}
                        </div>
                        <div class="text-left">
                            <p class="text-sm font-medium text-white">${user.email || 'Utilisateur'}</p>
                            <p class="text-xs text-yellow-300">Pr√©dicteur Betmomo Pro</p>
                        </div>
                    </div>
                `;
            }
        }

        // Fonction de d√©connexion
        window.logoutUser = async function() {
            try {
                await signOut(auth);
                window.location.href = 'login.html';
            } catch (error) {
                console.error('Erreur lors de la d√©connexion:', error);
                Swal.fire({
                    icon: 'error',
                    title: 'Erreur',
                    text: 'Impossible de se d√©connecter'
                });
            }
        };

        // Exposer les fonctions globalement
        window.checkLicenseBeforeOperation = function() {
            if (!window.isLicenseValid) {
                Swal.fire({
                    icon: 'error',
                    title: 'Licence expir√©e',
                    text: 'Votre licence a expir√©. Veuillez en acheter une nouvelle.',
                    confirmButtonText: 'Acheter une licence',
                    showCancelButton: true,
                    cancelButtonText: 'Annuler',
                    confirmButtonColor: '#1e3a8a',
                    cancelButtonColor: '#f59e0b'
                }).then((result) => {
                    if (result.isConfirmed) {
                        window.location.href = 'accueil.html';
                    }
                });
                return false;
            }
            return true;
        };
    </script>
</head>
<body class="bg-gray-50">

<!-- En-t√™te utilisateur et licence -->
<div class="container mx-auto px-2 py-4">
    <div class="user-header">
        <div id="userInfo" class="flex items-center">
            <div class="animate-pulse">
                <div class="w-8 h-8 rounded-full bg-blue-300 mr-2 border border-yellow-300"></div>
            </div>
            <div>
                <p class="text-sm font-medium text-white">V√©rification en cours...</p>
                <p class="text-xs text-yellow-300">Pr√©dicteur Betmomo Pro</p>
            </div>
        </div>
        
        <div class="flex items-center space-x-3">
            <div id="licenseIndicator" class="license-indicator">
                <span class="bg-yellow-500 rounded-full w-2 h-2 inline-block mr-1 animate-pulse"></span>
                <span class="text-white">V√©rification licence...</span>
            </div>
            
            <button onclick="logoutUser()" class="logout-btn">
                <i class="fas fa-sign-out-alt mr-2"></i>
                D√©connexion
            </button>
        </div>
    </div>
</div>

<!-- Interface principale -->
<div class="container mx-auto px-2 py-4" id="mainApp">
    <div class="robot-header text-center glowing">
        <h1 class="text-3xl font-bold flex items-center justify-center flex-wrap">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRgWQQ67DfZ1P8X_phzoLQm08MZ3T99HEM7SGM3gA7Eqm0jjoG0J0TEN1vd&s=10" alt="Betmomo" class="h-10 mr-3 rounded-lg border border-yellow-500">
            <span class="text-white">ü§ñ Pr√©dicteur <span class="gold-text">Betmomo</span> Pro</span>
            <span class="ml-2 bg-yellow-500 text-blue-900 text-xs px-2 py-1 rounded-full font-bold border border-white">V2.0</span>
        </h1>
        <p class="mt-1 text-yellow-300 text-sm">Analyse avanc√©e des c√¥tes avec validation automatique sur 3 rounds</p>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-4 mt-4">
        <!-- Colonne principale -->
        <div class="lg:col-span-2">
            <!-- Section Analyse Manuelle -->
            <div class="dashboard-card">
                <h3 class="text-lg font-bold text-gray-800 mb-3">
                    <i class="fas fa-chart-line text-blue-700 mr-2"></i>
                    Analyse des C√¥tes Betmomo
                </h3>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                    <div class="advanced-input">
                        <label class="block text-gray-700 mb-2 font-semibold text-sm">
                            <i class="fas fa-list-ol mr-1 text-yellow-600"></i>
                            C√¥tes (min. 5, s√©par√©es par des virgules)
                        </label>
                        <input 
                            type="text" 
                            id="manualOddsInput" 
                            placeholder="Ex: 1.50, 1.75, 2.00, 1.90, 1.65" 
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition text-sm"
                            disabled
                        >
                        <div class="tooltip">Entrez au moins 5 c√¥tes s√©par√©es par des virgules (pour 1.00, entrez 1.01)</div>
                    </div>
                    <div class="advanced-input">
                        <label class="block text-gray-700 mb-2 font-semibold text-sm">
                            <i class="fas fa-coins mr-1 text-yellow-600"></i>
                            Mise (optionnelle)
                        </label>
                        <input 
                            type="number" 
                            id="manualBetAmount" 
                            placeholder="Montant √† miser" 
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition text-sm"
                            min="0"
                            step="0.01"
                            disabled
                        >
                        <div class="tooltip">Entrez votre mise pour calculer les gains potentiels</div>
                    </div>
                </div>
                
                <div class="flex gap-3 flex-wrap">
                    <button 
                        onclick="predictManualOdds()" 
                        class="flex-1 gradient-btn min-w-[150px]"
                        disabled
                    >
                        <i class="fas fa-calculator mr-2"></i>
                        Analyser les C√¥tes
                    </button>
                    <button 
                        onclick="openAdvancedSettings()" 
                        class="flex-1 bg-gradient-to-r from-blue-800 to-blue-900 text-white py-2 rounded-lg hover:opacity-90 transition font-semibold text-sm min-w-[150px] border border-yellow-500"
                        disabled
                    >
                        <i class="fas fa-cog mr-2"></i>
                        Options Avanc√©es
                    </button>
                </div>
                
                <div class="mt-4 p-3 bg-blue-50 rounded-lg border border-yellow-200">
                    <p class="text-sm text-blue-800 font-medium">
                        <i class="fas fa-lightbulb mr-2 text-yellow-600"></i>
                        Conseil : Pour une pr√©cision optimale, entrez les 5 derni√®res c√¥tes du jeu
                    </p>
                </div>
                
                <div id="result" class="bg-gray-50 rounded-lg p-4 mt-4 border border-gray-200">
                    <div class="text-center p-4">
                        <i class="fas fa-key text-3xl text-blue-400 mb-3"></i>
                        <p class="text-gray-600">Le pr√©dicteur est verrouill√©</p>
                        <p class="text-sm text-gray-500 mt-1">Activez votre licence pour d√©bloquer toutes les fonctionnalit√©s</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Colonne de droite -->
        <div>
            <div class="stats-card mb-4">
                <h3 class="text-lg font-bold text-gray-800 mb-3">
                    <i class="fas fa-chart-pie text-blue-700 mr-2"></i>
                    Statistiques Globales
                </h3>
                <div id="statsContainer" class="text-center">
                    <p id="totalPredictions" class="text-2xl font-bold text-blue-700">0</p>
                    <p id="predictionAccuracy" class="text-xl font-bold text-yellow-600 mt-1">0%</p>
                    <div class="grid grid-cols-3 gap-3 mt-3">
                        <div class="bg-green-100 p-2 rounded-lg border border-green-300">
                            <p class="text-lg font-bold text-green-800">‚úÖ</p>
                            <p class="text-xs text-gray-700">Valid√©es</p>
                            <p id="successCount" class="font-bold">0</p>
                        </div>
                        <div class="bg-red-100 p-2 rounded-lg border border-red-300">
                            <p class="text-lg font-bold text-red-800">‚ùå</p>
                            <p class="text-xs text-gray-700">√âchou√©es</p>
                            <p id="failedCount" class="font-bold">0</p>
                        </div>
                        <div class="bg-yellow-100 p-2 rounded-lg border border-yellow-300">
                            <p class="text-lg font-bold text-yellow-800">‚è≥</p>
                            <p class="text-xs text-gray-700">En attente</p>
                            <p id="pendingCount" class="font-bold">0</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="stats-card mb-4">
                <div class="flex justify-between items-center mb-3">
                    <h3 class="text-lg font-bold text-gray-800">
                        <i class="fas fa-brain text-blue-700 mr-2"></i>
                        Analyse Intelligence
                    </h3>
                    <button onclick="analyzeHistoricalData()" class="bg-gradient-to-r from-blue-800 to-blue-900 text-white px-2 py-1 rounded-lg text-xs hover:opacity-90 transition border border-yellow-500" disabled>
                        Actualiser
                    </button>
                </div>
                <div id="intelligentAnalysis" class="text-xs space-y-2">
                    <div class="text-center text-gray-500 p-3">
                        <i class="fas fa-lock text-2xl text-gray-400 mb-2"></i>
                        <p>Activez votre licence pour d√©bloquer l'analyse</p>
                    </div>
                </div>
            </div>
            
            <div class="dashboard-card">
                <div class="flex justify-between items-center mb-3">
                    <h3 class="text-lg font-bold text-gray-800">
                        <i class="fas fa-history text-blue-700 mr-2"></i>
                        Historique des Pr√©dictions
                    </h3>
                    <div class="flex gap-2">
                        <button id="toggleHistory" class="bg-gradient-to-r from-blue-800 to-blue-900 text-white px-2 py-1 rounded-lg text-xs hover:opacity-90 transition border border-yellow-500" onclick="toggleHistoryVisibility()">
                            Masquer
                        </button>
                        <button id="deleteHistory" class="bg-gradient-to-r from-red-600 to-red-700 text-white px-2 py-1 rounded-lg text-xs hover:opacity-90 transition border border-yellow-500" onclick="deleteHistory()">
                            <i class="fas fa-trash-alt mr-1"></i>Supprimer
                        </button>
                    </div>
                </div>
                <div id="predictionHistory" class="space-y-3 max-h-[400px] overflow-y-auto pr-1 text-sm">
                    <div class="text-center text-gray-500 p-4">
                        <i class="fas fa-chart-line text-2xl text-gray-400 mb-2"></i>
                        <p>Aucune donn√©e disponible</p>
                        <p class="text-xs mt-1">L'historique s'affichera ici apr√®s vos premi√®res pr√©dictions</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Section Fonctionnalit√©s -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-4">
        <div class="feature-card">
            <div class="text-blue-700 text-2xl mb-2">
                <i class="fas fa-shield-alt"></i>
            </div>
            <h4 class="font-bold text-base text-gray-800 mb-1">Marge de S√©curit√©</h4>
            <p class="text-gray-600 text-sm">Application automatique de marge selon les r√®gles pour maximiser vos gains.</p>
        </div>
        
        <div class="feature-card">
            <div class="text-yellow-600 text-2xl mb-2">
                <i class="fas fa-robot"></i>
            </div>
            <h4 class="font-bold text-base text-gray-800 mb-1">IA Avanc√©e</h4>
            <p class="text-gray-600 text-sm">Algorithmes intelligents optimis√©s pour les jeux Betmomo avec haute pr√©cision.</p>
        </div>
        
        <div class="feature-card">
            <div class="text-blue-700 text-2xl mb-2">
                <i class="fas fa-chart-line"></i>
            </div>
            <h4 class="font-bold text-base text-gray-800 mb-1">Validation Automatique</h4>
            <p class="text-gray-600 text-sm">V√©rification automatique des pr√©dictions sur les 3 rounds suivants.</p>
        </div>
    </div>
</div>

<script src="betmomo-predictor.js"></script>
</body>
</html>